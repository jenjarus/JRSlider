var JRSlider;(()=>{"use strict";var __webpack_modules__={369:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"default\": () => (/* binding */ app)\n});\n\n;// CONCATENATED MODULE: ./src/js/jrslider.js\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/*\r\n    JenjaRusSlider - слайдер\r\n    Copyright (c) 2022 JenjaRus\r\n*/\nfunction JRSlider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var defaults = {\n    elem: '.jrslider',\n    // Селектор с блоком слайдов\n    slidesShow: 1,\n    // Количество показываемых слайдов\n    slidesScroll: 1,\n    // Количество пролистываемых слайдов\n    speed: 500,\n    // Время пролистывания\n    loop: true,\n    // Бесконечное зацикливание слайдера\n    autoplay: false,\n    // Автоматическое пролистывание\n    autoplayHover: false,\n    // Ставить на паузу пролистывание при наведении\n    interval: 5000,\n    // Интервал между пролистыванием элементов (мс)\n    arrows: true,\n    // Пролистывание стрелками\n    customPrev: false,\n    // Назначение элемента для кнопки назад\n    customNext: false,\n    // Назначение элемента для кнопки вперед\n    dots: true,\n    // Точки навигации\n    customDots: false,\n    // Изменить место прикрепления точек навигации\n    swipe: true,\n    // Пролистывание свайпом\n    responsive: false,\n    // Адаптив\n    currentSlide: {} // Текущий слайд для каждого созданного слайдера\n\n  };\n  var config = extend(options, defaults);\n  var sliderList = document.querySelectorAll(config.elem);\n\n  if (sliderList.length) {\n    for (var i = 0; i < sliderList.length; i++) {\n      checkResponsive(sliderList[i], config, i);\n    }\n\n    window.addEventListener('resize', function () {\n      for (var _i = 0; _i < sliderList.length; _i++) {\n        checkResponsive(sliderList[_i], config, _i);\n      }\n    });\n  }\n}\n\nfunction createSlider(sliders, config, indexSlider) {\n  config.slidesScroll = 1; // Временно, до следующей версии\n\n  var currentSlide; // Глобальное значение текущего слайда\n\n  var allowTransition = true; // Флаг возможности перемещения слайда (дает анимации полностью отрабоать)\n  // Создание обертки элементов слайдера\n\n  sliders.classList.add('jrslider-init');\n  sliders.innerHTML = \"<div class='slider-wrap'>\" + sliders.innerHTML + \"</div>\";\n  var slidersItems = sliders.querySelector('.slider-wrap').children;\n  var sliderWrap = sliders.querySelector('.slider-wrap'); // Создание обертки навигационных кнопок\n\n  var sliderNav = document.createElement(\"div\");\n  sliderNav.classList.add(\"slider-nav\");\n  sliders.appendChild(sliderNav);\n\n  if (config.loop) {\n    cloneElements();\n  }\n\n  if (config.arrows) {\n    if (config.customPrev) {\n      createCustomPrevButton();\n    } else {\n      createPrevButton();\n    }\n\n    if (config.customNext) {\n      createCustomNextButton();\n    } else {\n      createNextButton();\n    }\n  }\n\n  if (config.dots) {\n    if (config.customDots) {\n      createCustomDots();\n    } else {\n      createDots();\n    }\n  }\n\n  if (config.autoplay) {\n    autoPlay();\n  }\n\n  if (config.swipe) {\n    createSwipe();\n  }\n\n  init(); // === Создание элементов ===\n  // Создание кнопки назад\n\n  function createPrevButton() {\n    var prevButton = document.createElement(\"a\");\n    prevButton.classList.add('slider-button__prev', 'slider-button');\n    sliderNav.appendChild(prevButton);\n    prevButton.addEventListener('click', function () {\n      moveTo(currentSlide - config.slidesScroll);\n    });\n  } // Создание кнопки вперед\n\n\n  function createNextButton() {\n    var nextButton = document.createElement(\"a\");\n    nextButton.classList.add('slider-button__next', 'slider-button');\n    sliderNav.appendChild(nextButton);\n    nextButton.addEventListener('click', function () {\n      moveTo(currentSlide + config.slidesScroll);\n    });\n  } // Назначить кнопку назад на кастомный элемент\n\n\n  function createCustomPrevButton() {\n    var prevButton = document.querySelector(config.customPrev);\n    prevButton.classList.add('slider-button');\n    prevButton.addEventListener('click', function () {\n      moveTo(currentSlide - config.slidesScroll);\n    });\n  } // Назначить кнопку вперед на кастомный элемент\n\n\n  function createCustomNextButton() {\n    var nextButton = document.querySelector(config.customNext);\n    nextButton.classList.add('slider-button');\n    nextButton.addEventListener('click', function () {\n      moveTo(currentSlide + config.slidesScroll);\n    });\n  } // Автоматическое пролистывание слайдов\n\n\n  function autoPlay() {\n    var autoPlayInterval; // Переменная с setInterval\n\n    var autoPlayHandle = function autoPlayHandle() {\n      moveTo(currentSlide + config.slidesScroll);\n    };\n\n    autoPlayInterval = setInterval(autoPlayHandle, config.interval);\n\n    if (!config.autoplayHover) {\n      sliders.addEventListener(\"pointerover\", function () {\n        return clearTimeout(autoPlayInterval);\n      });\n      sliders.addEventListener(\"pointerout\", function () {\n        return autoPlayInterval = setInterval(autoPlayHandle, config.interval);\n      });\n    }\n  } // Создание Точек\n\n\n  function createDots() {\n    var dot = document.createElement(\"div\");\n    sliderNav.appendChild(dot);\n    cycleCreateDots(dot);\n  } // Создание Точек в кастомном элементе\n\n\n  function createCustomDots() {\n    var dot = document.querySelector(config.customDots);\n    cycleCreateDots(dot);\n  } // Создание клонов в конце и начале слайдера\n\n\n  function cloneElements() {\n    var cloneFirst = [];\n    var cloneLast = [];\n\n    for (var i = 0; i < checkClone(); i++) {\n      var firstSlide = slidersItems[i];\n      cloneFirst.push(firstSlide.cloneNode(true));\n    }\n\n    for (var _i2 = slidersItems.length - 1; _i2 >= slidersItems.length - checkClone(); _i2--) {\n      var lastSlide = slidersItems[_i2];\n      cloneLast.push(lastSlide.cloneNode(true));\n    }\n\n    for (var _i3 = 0, _cloneFirst = cloneFirst; _i3 < _cloneFirst.length; _i3++) {\n      var element = _cloneFirst[_i3];\n      element.classList.add('clone');\n      sliderWrap.appendChild(element);\n    }\n\n    for (var _i4 = 0, _cloneLast = cloneLast; _i4 < _cloneLast.length; _i4++) {\n      var _element = _cloneLast[_i4];\n\n      _element.classList.add('clone');\n\n      sliderWrap.insertBefore(_element, slidersItems[0]);\n    }\n  } // === Создание элементов END ===\n  // === Перемещение ===\n  // Изменение позиции в слайдере\n\n\n  function transitionMove(step) {\n    sliderWrap.style.transform = \"translateX(-\".concat(offset(), \"px)\");\n\n    var _iterator = _createForOfIteratorHelper(slidersItems),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var element = _step.value;\n        element.classList.remove(\"active\");\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    for (var i = step; i <= step + config.slidesScroll - 1; i++) {\n      if (i < slidersItems.length) {\n        slidersItems[i].classList.add(\"active\");\n      }\n    }\n\n    if (config.dots) {\n      if (config.customDots) {\n        var dots = document.querySelectorAll(config.customDots + \" .slider-dots__item\");\n        cycleActiveDots(dots, step);\n      } else {\n        var _dots = sliders.querySelectorAll(\".slider-dots__item\");\n\n        cycleActiveDots(_dots, step);\n      }\n    }\n\n    if (config.arrows) {\n      checkButtonLoop();\n    }\n  } // Добавление style transition. По окончанию transition переход на конец или начало слайдера\n\n\n  function addTransition() {\n    sliderWrap.style.transition = \"transform \".concat(config.speed, \"ms\");\n    setTimeout(function () {\n      sliderWrap.style.transition = '';\n      loopBeginEnd();\n      allowTransition = true;\n    }, config.speed);\n  } // Перемещение сладов\n\n\n  function moveTo(step) {\n    if (allowTransition) {\n      if (config.loop || !(step >= slidersItems.length || step < 0)) {\n        currentSlide = step;\n      }\n\n      addTransition();\n      transitionMove(currentSlide);\n      config.currentSlide[indexSlider] = currentSlide;\n    }\n\n    allowTransition = false;\n  } // Отключение стрелки, если это крайний слайд\n\n\n  function checkButtonLoop() {\n    if (currentSlide - config.slidesScroll < 0) {\n      if (config.customPrev) {\n        document.querySelector(config.customPrev).classList.add('disabled');\n      } else {\n        sliders.querySelector('.slider-button__prev').classList.add('disabled');\n      }\n    } else {\n      if (config.customPrev) {\n        document.querySelector(config.customPrev).classList.remove('disabled');\n      } else {\n        sliders.querySelector('.slider-button__prev').classList.remove('disabled');\n      }\n    }\n\n    if (currentSlide + config.slidesScroll >= slidersItems.length) {\n      if (config.customNext) {\n        document.querySelector(config.customNext).classList.add('disabled');\n      } else {\n        sliders.querySelector('.slider-button__next').classList.add('disabled');\n      }\n    } else {\n      if (config.customNext) {\n        document.querySelector(config.customNext).classList.remove('disabled');\n      } else {\n        sliders.querySelector('.slider-button__next').classList.remove('disabled');\n      }\n    }\n  } // \"Бесшовное\" перемещение в конец или начало в зацикленном слайдере\n\n\n  function loopBeginEnd() {\n    if (config.loop) {\n      if (currentSlide > slidersItems.length - checkClone() * 2) {\n        currentSlide = checkClone();\n        transitionMove(currentSlide);\n      } else if (currentSlide <= 0) {\n        currentSlide = slidersItems.length - checkClone() * 2;\n        transitionMove(currentSlide);\n      }\n    }\n  } // Пролистывание свайпом\n\n\n  function createSwipe() {\n    var posX1 = 0;\n    var posX2 = 0;\n    var posInitial;\n    var posFinal;\n    var threshold = sliders.offsetWidth * 0.3; // Растояние до срабатывания свайпа\n\n    var swipeStart = function swipeStart(e) {\n      e.preventDefault();\n      posInitial = getTransformX(sliderWrap);\n\n      if (e.type === 'touchstart') {\n        posX1 = e.touches[0].clientX;\n      } else {\n        posX1 = e.clientX;\n        document.onmouseup = swipeEnd;\n        document.onmousemove = swipeAction;\n      }\n    };\n\n    var swipeEnd = function swipeEnd() {\n      posFinal = getTransformX(sliderWrap);\n\n      if (posFinal - posInitial < -threshold) {\n        moveTo(currentSlide + config.slidesScroll);\n      } else if (posFinal - posInitial > threshold) {\n        moveTo(currentSlide - config.slidesScroll);\n      } else {\n        addTransition(); // При переключении слайжов добавляет transition\n\n        sliderWrap.style.transform = \"translateX(\".concat(posInitial, \"px)\");\n      }\n\n      document.onmouseup = null;\n      document.onmousemove = null;\n    };\n\n    var swipeAction = function swipeAction(e) {\n      if (e.type === 'touchmove') {\n        posX2 = posX1 - e.touches[0].clientX;\n        posX1 = e.touches[0].clientX;\n      } else {\n        posX2 = posX1 - e.clientX;\n        posX1 = e.clientX;\n      }\n\n      sliderWrap.style.transform = \"translateX(\".concat(getTransformX(sliderWrap) - posX2, \"px)\");\n    }; // Получаем число из стиля transformX\n\n\n    var getTransformX = function getTransformX(el) {\n      return +el.style.transform.replace(/[^-\\d.]/g, '');\n    };\n\n    sliderWrap.onmousedown = swipeStart;\n    sliderWrap.addEventListener('touchstart', swipeStart);\n    sliderWrap.addEventListener('touchend', swipeEnd);\n    sliderWrap.addEventListener('touchmove', swipeAction);\n  } // === Перемещение END ===\n  // === Инициализация слайдера ===\n\n\n  function init() {\n    if (config.currentSlide[indexSlider]) {\n      currentSlide = config.currentSlide[indexSlider];\n    } else {\n      if (config.loop) {\n        currentSlide = config.slidesScroll;\n      } else {\n        currentSlide = 0;\n      }\n    }\n\n    transitionMove(currentSlide);\n\n    var _iterator2 = _createForOfIteratorHelper(slidersItems),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var element = _step2.value;\n        element.style.width = sliderItemWidth() + 'px';\n      } // Назначение ширины одного слайда\n\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n\n    sliderWrap.style.width = slidersItems.length * sliderItemWidth() + 'px'; // Назначение ширины \"карусели\" слайдов\n  } // === Инициализация слайдера END ===\n  // === Вспомогательные функции ===\n  // Ширина одного слайда\n\n\n  function sliderItemWidth() {\n    return sliders.offsetWidth / config.slidesShow;\n  } // Расстояние перемещения слайдов для текущего шага\n\n\n  function offset() {\n    var step = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : currentSlide;\n    return sliderItemWidth() * step;\n  } // Цикл для создания точек\n\n\n  function cycleCreateDots(dot) {\n    dot.classList.add(\"slider-dots\");\n\n    if (config.loop) {\n      var _loop = function _loop(i) {\n        var dots = document.createElement(\"span\");\n        dots.classList.add('slider-dots__item');\n        dot.appendChild(dots);\n        dots.addEventListener('click', function () {\n          moveTo(i + 1);\n        });\n      };\n\n      for (var i = checkClone() - 1; i < slidersItems.length - checkClone() * 2; i += checkClone()) {\n        _loop(i);\n      }\n    } else {\n      var _loop2 = function _loop2(_i5) {\n        var dots = document.createElement(\"span\");\n        dots.classList.add('slider-dots__item');\n        dot.appendChild(dots);\n        dots.addEventListener('click', function () {\n          moveTo(_i5);\n        });\n      };\n\n      for (var _i5 = 0; _i5 < slidersItems.length; _i5 += config.slidesScroll) {\n        _loop2(_i5);\n      }\n    }\n  } // Цикл изменения точек\n\n\n  function cycleActiveDots(dots, step) {\n    var loop = config.loop ? 1 : 0;\n\n    var _iterator3 = _createForOfIteratorHelper(dots),\n        _step3;\n\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var element = _step3.value;\n        element.classList.remove(\"active\");\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n\n    if (dots[step / checkClone() - loop]) {\n      dots[step / checkClone() - loop].classList.add(\"active\");\n    }\n  } // Выводит сколько сделано клонов на одной стороне\n\n\n  function checkClone() {\n    return config.slidesScroll > config.slidesShow ? config.slidesScroll : config.slidesShow;\n  } // === Вспомогательные функции END ===\n\n} // Проверка значений в responsive\n\n\nfunction checkResponsive(sliders, config, indexSlider) {\n  var windowsWidth = window.innerWidth; // Ширина экрана\n\n  var flagResponsive = true; // Проверка на наличие элементов в слайдере\n\n  if (!sliders.children.length) {\n    return false;\n  }\n\n  if (config.responsive) {\n    config.responsive.sort(function (prev, next) {\n      return next.breakpoint - prev.breakpoint;\n    }); // Responsive значения config\n\n    var _iterator4 = _createForOfIteratorHelper(config.responsive),\n        _step4;\n\n    try {\n      for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n        var element = _step4.value;\n\n        if (windowsWidth <= element.breakpoint) {\n          flagResponsive = false;\n          config = extend(element.settings, config);\n          reCreateSlider(sliders, config, indexSlider);\n        }\n      }\n    } catch (err) {\n      _iterator4.e(err);\n    } finally {\n      _iterator4.f();\n    }\n  } // Стандартные значения config\n\n\n  if (flagResponsive) {\n    reCreateSlider(sliders, config, indexSlider);\n  }\n} // Пересоздать слайдер\n\n\nfunction reCreateSlider(sliders, options, indexSlider) {\n  // Если слайдер создан, то тогда он удаляется\n  if (sliders.classList.contains('jrslider-init')) {\n    destroySlider(sliders);\n  }\n\n  createSlider(sliders, options, indexSlider);\n} // Удаляет элементы связанные со слайдером\n\n\nfunction destroySlider(sliders) {\n  var cloneItems = [];\n\n  var _iterator5 = _createForOfIteratorHelper(sliders.querySelectorAll(\".clone\")),\n      _step5;\n\n  try {\n    for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n      var _element2 = _step5.value;\n\n      _element2.remove();\n    }\n  } catch (err) {\n    _iterator5.e(err);\n  } finally {\n    _iterator5.f();\n  }\n\n  var slidersItems = sliders.querySelectorAll('.slider-wrap > *');\n\n  var _iterator6 = _createForOfIteratorHelper(slidersItems),\n      _step6;\n\n  try {\n    for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n      var _element3 = _step6.value;\n      cloneItems.push(_element3.cloneNode(true));\n    }\n  } catch (err) {\n    _iterator6.e(err);\n  } finally {\n    _iterator6.f();\n  }\n\n  sliders.classList.remove('jrslider-init');\n  sliders.querySelector(\".slider-wrap\").remove();\n  sliders.querySelector(\".slider-nav\").remove();\n\n  for (var _i6 = 0, _cloneItems = cloneItems; _i6 < _cloneItems.length; _i6++) {\n    var element = _cloneItems[_i6];\n    element.classList.remove('active');\n    element.style = '';\n    sliders.appendChild(element);\n  }\n}\n\nfunction extend(options, defaults) {\n  for (var key in defaults) {\n    if (options[key] == null) {\n      var value = defaults[key];\n      options[key] = value;\n    }\n  }\n\n  return options;\n}\n;// CONCATENATED MODULE: ./src/app.js\n\n\n/* harmony default export */ const app = (JRSlider);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzY5LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVsQkE7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vSlJTbGlkZXIvLi9zcmMvanMvanJzbGlkZXIuanM/MTNjZCIsIndlYnBhY2s6Ly9KUlNsaWRlci8uL3NyYy9hcHAuanM/MjU0MiJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvLCBhbGxvd0FycmF5TGlrZSkgeyB2YXIgaXQgPSB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSB8fCBvW1wiQEBpdGVyYXRvclwiXTsgaWYgKCFpdCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSB7IGlmIChpdCkgbyA9IGl0OyB2YXIgaSA9IDA7IHZhciBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9OyByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKF9lKSB7IHRocm93IF9lOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9IHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSwgZGlkRXJyID0gZmFsc2UsIGVycjsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgaXQgPSBpdC5jYWxsKG8pOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgc3RlcCA9IGl0Lm5leHQoKTsgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTsgcmV0dXJuIHN0ZXA7IH0sIGU6IGZ1bmN0aW9uIGUoX2UyKSB7IGRpZEVyciA9IHRydWU7IGVyciA9IF9lMjsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgaWYgKCFub3JtYWxDb21wbGV0aW9uICYmIGl0LnJldHVybiAhPSBudWxsKSBpdC5yZXR1cm4oKTsgfSBmaW5hbGx5IHsgaWYgKGRpZEVycikgdGhyb3cgZXJyOyB9IH0gfTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbi8qXHJcbiAgICBKZW5qYVJ1c1NsaWRlciAtINGB0LvQsNC50LTQtdGAXHJcbiAgICBDb3B5cmlnaHQgKGMpIDIwMjIgSmVuamFSdXNcclxuKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEpSU2xpZGVyKCkge1xuICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gIHZhciBkZWZhdWx0cyA9IHtcbiAgICBlbGVtOiAnLmpyc2xpZGVyJyxcbiAgICAvLyDQodC10LvQtdC60YLQvtGAINGBINCx0LvQvtC60L7QvCDRgdC70LDQudC00L7QslxuICAgIHNsaWRlc1Nob3c6IDEsXG4gICAgLy8g0JrQvtC70LjRh9C10YHRgtCy0L4g0L/QvtC60LDQt9GL0LLQsNC10LzRi9GFINGB0LvQsNC50LTQvtCyXG4gICAgc2xpZGVzU2Nyb2xsOiAxLFxuICAgIC8vINCa0L7Qu9C40YfQtdGB0YLQstC+INC/0YDQvtC70LjRgdGC0YvQstCw0LXQvNGL0YUg0YHQu9Cw0LnQtNC+0LJcbiAgICBzcGVlZDogNTAwLFxuICAgIC8vINCS0YDQtdC80Y8g0L/RgNC+0LvQuNGB0YLRi9Cy0LDQvdC40Y9cbiAgICBsb29wOiB0cnVlLFxuICAgIC8vINCR0LXRgdC60L7QvdC10YfQvdC+0LUg0LfQsNGG0LjQutC70LjQstCw0L3QuNC1INGB0LvQsNC50LTQtdGA0LBcbiAgICBhdXRvcGxheTogZmFsc2UsXG4gICAgLy8g0JDQstGC0L7QvNCw0YLQuNGH0LXRgdC60L7QtSDQv9GA0L7Qu9C40YHRgtGL0LLQsNC90LjQtVxuICAgIGF1dG9wbGF5SG92ZXI6IGZhbHNlLFxuICAgIC8vINCh0YLQsNCy0LjRgtGMINC90LAg0L/QsNGD0LfRgyDQv9GA0L7Qu9C40YHRgtGL0LLQsNC90LjQtSDQv9GA0Lgg0L3QsNCy0LXQtNC10L3QuNC4XG4gICAgaW50ZXJ2YWw6IDUwMDAsXG4gICAgLy8g0JjQvdGC0LXRgNCy0LDQuyDQvNC10LbQtNGDINC/0YDQvtC70LjRgdGC0YvQstCw0L3QuNC10Lwg0Y3Qu9C10LzQtdC90YLQvtCyICjQvNGBKVxuICAgIGFycm93czogdHJ1ZSxcbiAgICAvLyDQn9GA0L7Qu9C40YHRgtGL0LLQsNC90LjQtSDRgdGC0YDQtdC70LrQsNC80LhcbiAgICBjdXN0b21QcmV2OiBmYWxzZSxcbiAgICAvLyDQndCw0LfQvdCw0YfQtdC90LjQtSDRjdC70LXQvNC10L3RgtCwINC00LvRjyDQutC90L7Qv9C60Lgg0L3QsNC30LDQtFxuICAgIGN1c3RvbU5leHQ6IGZhbHNlLFxuICAgIC8vINCd0LDQt9C90LDRh9C10L3QuNC1INGN0LvQtdC80LXQvdGC0LAg0LTQu9GPINC60L3QvtC/0LrQuCDQstC/0LXRgNC10LRcbiAgICBkb3RzOiB0cnVlLFxuICAgIC8vINCi0L7Rh9C60Lgg0L3QsNCy0LjQs9Cw0YbQuNC4XG4gICAgY3VzdG9tRG90czogZmFsc2UsXG4gICAgLy8g0JjQt9C80LXQvdC40YLRjCDQvNC10YHRgtC+INC/0YDQuNC60YDQtdC/0LvQtdC90LjRjyDRgtC+0YfQtdC6INC90LDQstC40LPQsNGG0LjQuFxuICAgIHN3aXBlOiB0cnVlLFxuICAgIC8vINCf0YDQvtC70LjRgdGC0YvQstCw0L3QuNC1INGB0LLQsNC50L/QvtC8XG4gICAgcmVzcG9uc2l2ZTogZmFsc2UsXG4gICAgLy8g0JDQtNCw0L/RgtC40LJcbiAgICBjdXJyZW50U2xpZGU6IHt9IC8vINCi0LXQutGD0YnQuNC5INGB0LvQsNC50LQg0LTQu9GPINC60LDQttC00L7Qs9C+INGB0L7Qt9C00LDQvdC90L7Qs9C+INGB0LvQsNC50LTQtdGA0LBcblxuICB9O1xuICB2YXIgY29uZmlnID0gZXh0ZW5kKG9wdGlvbnMsIGRlZmF1bHRzKTtcbiAgdmFyIHNsaWRlckxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5lbGVtKTtcblxuICBpZiAoc2xpZGVyTGlzdC5sZW5ndGgpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWRlckxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNoZWNrUmVzcG9uc2l2ZShzbGlkZXJMaXN0W2ldLCBjb25maWcsIGkpO1xuICAgIH1cblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgc2xpZGVyTGlzdC5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgY2hlY2tSZXNwb25zaXZlKHNsaWRlckxpc3RbX2ldLCBjb25maWcsIF9pKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVTbGlkZXIoc2xpZGVycywgY29uZmlnLCBpbmRleFNsaWRlcikge1xuICBjb25maWcuc2xpZGVzU2Nyb2xsID0gMTsgLy8g0JLRgNC10LzQtdC90L3Qviwg0LTQviDRgdC70LXQtNGD0Y7RidC10Lkg0LLQtdGA0YHQuNC4XG5cbiAgdmFyIGN1cnJlbnRTbGlkZTsgLy8g0JPQu9C+0LHQsNC70YzQvdC+0LUg0LfQvdCw0YfQtdC90LjQtSDRgtC10LrRg9GJ0LXQs9C+INGB0LvQsNC50LTQsFxuXG4gIHZhciBhbGxvd1RyYW5zaXRpb24gPSB0cnVlOyAvLyDQpNC70LDQsyDQstC+0LfQvNC+0LbQvdC+0YHRgtC4INC/0LXRgNC10LzQtdGJ0LXQvdC40Y8g0YHQu9Cw0LnQtNCwICjQtNCw0LXRgiDQsNC90LjQvNCw0YbQuNC4INC/0L7Qu9C90L7RgdGC0YzRjiDQvtGC0YDQsNCx0L7QsNGC0YwpXG4gIC8vINCh0L7Qt9C00LDQvdC40LUg0L7QsdC10YDRgtC60Lgg0Y3Qu9C10LzQtdC90YLQvtCyINGB0LvQsNC50LTQtdGA0LBcblxuICBzbGlkZXJzLmNsYXNzTGlzdC5hZGQoJ2pyc2xpZGVyLWluaXQnKTtcbiAgc2xpZGVycy5pbm5lckhUTUwgPSBcIjxkaXYgY2xhc3M9J3NsaWRlci13cmFwJz5cIiArIHNsaWRlcnMuaW5uZXJIVE1MICsgXCI8L2Rpdj5cIjtcbiAgdmFyIHNsaWRlcnNJdGVtcyA9IHNsaWRlcnMucXVlcnlTZWxlY3RvcignLnNsaWRlci13cmFwJykuY2hpbGRyZW47XG4gIHZhciBzbGlkZXJXcmFwID0gc2xpZGVycy5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyLXdyYXAnKTsgLy8g0KHQvtC30LTQsNC90LjQtSDQvtCx0LXRgNGC0LrQuCDQvdCw0LLQuNCz0LDRhtC40L7QvdC90YvRhSDQutC90L7Qv9C+0LpcblxuICB2YXIgc2xpZGVyTmF2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgc2xpZGVyTmF2LmNsYXNzTGlzdC5hZGQoXCJzbGlkZXItbmF2XCIpO1xuICBzbGlkZXJzLmFwcGVuZENoaWxkKHNsaWRlck5hdik7XG5cbiAgaWYgKGNvbmZpZy5sb29wKSB7XG4gICAgY2xvbmVFbGVtZW50cygpO1xuICB9XG5cbiAgaWYgKGNvbmZpZy5hcnJvd3MpIHtcbiAgICBpZiAoY29uZmlnLmN1c3RvbVByZXYpIHtcbiAgICAgIGNyZWF0ZUN1c3RvbVByZXZCdXR0b24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3JlYXRlUHJldkJ1dHRvbigpO1xuICAgIH1cblxuICAgIGlmIChjb25maWcuY3VzdG9tTmV4dCkge1xuICAgICAgY3JlYXRlQ3VzdG9tTmV4dEJ1dHRvbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjcmVhdGVOZXh0QnV0dG9uKCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKGNvbmZpZy5kb3RzKSB7XG4gICAgaWYgKGNvbmZpZy5jdXN0b21Eb3RzKSB7XG4gICAgICBjcmVhdGVDdXN0b21Eb3RzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNyZWF0ZURvdHMoKTtcbiAgICB9XG4gIH1cblxuICBpZiAoY29uZmlnLmF1dG9wbGF5KSB7XG4gICAgYXV0b1BsYXkoKTtcbiAgfVxuXG4gIGlmIChjb25maWcuc3dpcGUpIHtcbiAgICBjcmVhdGVTd2lwZSgpO1xuICB9XG5cbiAgaW5pdCgpOyAvLyA9PT0g0KHQvtC30LTQsNC90LjQtSDRjdC70LXQvNC10L3RgtC+0LIgPT09XG4gIC8vINCh0L7Qt9C00LDQvdC40LUg0LrQvdC+0L/QutC4INC90LDQt9Cw0LRcblxuICBmdW5jdGlvbiBjcmVhdGVQcmV2QnV0dG9uKCkge1xuICAgIHZhciBwcmV2QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgcHJldkJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdzbGlkZXItYnV0dG9uX19wcmV2JywgJ3NsaWRlci1idXR0b24nKTtcbiAgICBzbGlkZXJOYXYuYXBwZW5kQ2hpbGQocHJldkJ1dHRvbik7XG4gICAgcHJldkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIG1vdmVUbyhjdXJyZW50U2xpZGUgLSBjb25maWcuc2xpZGVzU2Nyb2xsKTtcbiAgICB9KTtcbiAgfSAvLyDQodC+0LfQtNCw0L3QuNC1INC60L3QvtC/0LrQuCDQstC/0LXRgNC10LRcblxuXG4gIGZ1bmN0aW9uIGNyZWF0ZU5leHRCdXR0b24oKSB7XG4gICAgdmFyIG5leHRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICBuZXh0QnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3NsaWRlci1idXR0b25fX25leHQnLCAnc2xpZGVyLWJ1dHRvbicpO1xuICAgIHNsaWRlck5hdi5hcHBlbmRDaGlsZChuZXh0QnV0dG9uKTtcbiAgICBuZXh0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgbW92ZVRvKGN1cnJlbnRTbGlkZSArIGNvbmZpZy5zbGlkZXNTY3JvbGwpO1xuICAgIH0pO1xuICB9IC8vINCd0LDQt9C90LDRh9C40YLRjCDQutC90L7Qv9C60YMg0L3QsNC30LDQtCDQvdCwINC60LDRgdGC0L7QvNC90YvQuSDRjdC70LXQvNC10L3RglxuXG5cbiAgZnVuY3Rpb24gY3JlYXRlQ3VzdG9tUHJldkJ1dHRvbigpIHtcbiAgICB2YXIgcHJldkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29uZmlnLmN1c3RvbVByZXYpO1xuICAgIHByZXZCdXR0b24uY2xhc3NMaXN0LmFkZCgnc2xpZGVyLWJ1dHRvbicpO1xuICAgIHByZXZCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBtb3ZlVG8oY3VycmVudFNsaWRlIC0gY29uZmlnLnNsaWRlc1Njcm9sbCk7XG4gICAgfSk7XG4gIH0gLy8g0J3QsNC30L3QsNGH0LjRgtGMINC60L3QvtC/0LrRgyDQstC/0LXRgNC10LQg0L3QsCDQutCw0YHRgtC+0LzQvdGL0Lkg0Y3Qu9C10LzQtdC90YJcblxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUN1c3RvbU5leHRCdXR0b24oKSB7XG4gICAgdmFyIG5leHRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbmZpZy5jdXN0b21OZXh0KTtcbiAgICBuZXh0QnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3NsaWRlci1idXR0b24nKTtcbiAgICBuZXh0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgbW92ZVRvKGN1cnJlbnRTbGlkZSArIGNvbmZpZy5zbGlkZXNTY3JvbGwpO1xuICAgIH0pO1xuICB9IC8vINCQ0LLRgtC+0LzQsNGC0LjRh9C10YHQutC+0LUg0L/RgNC+0LvQuNGB0YLRi9Cy0LDQvdC40LUg0YHQu9Cw0LnQtNC+0LJcblxuXG4gIGZ1bmN0aW9uIGF1dG9QbGF5KCkge1xuICAgIHZhciBhdXRvUGxheUludGVydmFsOyAvLyDQn9C10YDQtdC80LXQvdC90LDRjyDRgSBzZXRJbnRlcnZhbFxuXG4gICAgdmFyIGF1dG9QbGF5SGFuZGxlID0gZnVuY3Rpb24gYXV0b1BsYXlIYW5kbGUoKSB7XG4gICAgICBtb3ZlVG8oY3VycmVudFNsaWRlICsgY29uZmlnLnNsaWRlc1Njcm9sbCk7XG4gICAgfTtcblxuICAgIGF1dG9QbGF5SW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChhdXRvUGxheUhhbmRsZSwgY29uZmlnLmludGVydmFsKTtcblxuICAgIGlmICghY29uZmlnLmF1dG9wbGF5SG92ZXIpIHtcbiAgICAgIHNsaWRlcnMuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJvdmVyXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChhdXRvUGxheUludGVydmFsKTtcbiAgICAgIH0pO1xuICAgICAgc2xpZGVycy5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcm91dFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhdXRvUGxheUludGVydmFsID0gc2V0SW50ZXJ2YWwoYXV0b1BsYXlIYW5kbGUsIGNvbmZpZy5pbnRlcnZhbCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0gLy8g0KHQvtC30LTQsNC90LjQtSDQotC+0YfQtdC6XG5cblxuICBmdW5jdGlvbiBjcmVhdGVEb3RzKCkge1xuICAgIHZhciBkb3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHNsaWRlck5hdi5hcHBlbmRDaGlsZChkb3QpO1xuICAgIGN5Y2xlQ3JlYXRlRG90cyhkb3QpO1xuICB9IC8vINCh0L7Qt9C00LDQvdC40LUg0KLQvtGH0LXQuiDQsiDQutCw0YHRgtC+0LzQvdC+0Lwg0Y3Qu9C10LzQtdC90YLQtVxuXG5cbiAgZnVuY3Rpb24gY3JlYXRlQ3VzdG9tRG90cygpIHtcbiAgICB2YXIgZG90ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb25maWcuY3VzdG9tRG90cyk7XG4gICAgY3ljbGVDcmVhdGVEb3RzKGRvdCk7XG4gIH0gLy8g0KHQvtC30LTQsNC90LjQtSDQutC70L7QvdC+0LIg0LIg0LrQvtC90YbQtSDQuCDQvdCw0YfQsNC70LUg0YHQu9Cw0LnQtNC10YDQsFxuXG5cbiAgZnVuY3Rpb24gY2xvbmVFbGVtZW50cygpIHtcbiAgICB2YXIgY2xvbmVGaXJzdCA9IFtdO1xuICAgIHZhciBjbG9uZUxhc3QgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hlY2tDbG9uZSgpOyBpKyspIHtcbiAgICAgIHZhciBmaXJzdFNsaWRlID0gc2xpZGVyc0l0ZW1zW2ldO1xuICAgICAgY2xvbmVGaXJzdC5wdXNoKGZpcnN0U2xpZGUuY2xvbmVOb2RlKHRydWUpKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBfaTIgPSBzbGlkZXJzSXRlbXMubGVuZ3RoIC0gMTsgX2kyID49IHNsaWRlcnNJdGVtcy5sZW5ndGggLSBjaGVja0Nsb25lKCk7IF9pMi0tKSB7XG4gICAgICB2YXIgbGFzdFNsaWRlID0gc2xpZGVyc0l0ZW1zW19pMl07XG4gICAgICBjbG9uZUxhc3QucHVzaChsYXN0U2xpZGUuY2xvbmVOb2RlKHRydWUpKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBfaTMgPSAwLCBfY2xvbmVGaXJzdCA9IGNsb25lRmlyc3Q7IF9pMyA8IF9jbG9uZUZpcnN0Lmxlbmd0aDsgX2kzKyspIHtcbiAgICAgIHZhciBlbGVtZW50ID0gX2Nsb25lRmlyc3RbX2kzXTtcbiAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnY2xvbmUnKTtcbiAgICAgIHNsaWRlcldyYXAuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2k0ID0gMCwgX2Nsb25lTGFzdCA9IGNsb25lTGFzdDsgX2k0IDwgX2Nsb25lTGFzdC5sZW5ndGg7IF9pNCsrKSB7XG4gICAgICB2YXIgX2VsZW1lbnQgPSBfY2xvbmVMYXN0W19pNF07XG5cbiAgICAgIF9lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2Nsb25lJyk7XG5cbiAgICAgIHNsaWRlcldyYXAuaW5zZXJ0QmVmb3JlKF9lbGVtZW50LCBzbGlkZXJzSXRlbXNbMF0pO1xuICAgIH1cbiAgfSAvLyA9PT0g0KHQvtC30LTQsNC90LjQtSDRjdC70LXQvNC10L3RgtC+0LIgRU5EID09PVxuICAvLyA9PT0g0J/QtdGA0LXQvNC10YnQtdC90LjQtSA9PT1cbiAgLy8g0JjQt9C80LXQvdC10L3QuNC1INC/0L7Qt9C40YbQuNC4INCyINGB0LvQsNC50LTQtdGA0LVcblxuXG4gIGZ1bmN0aW9uIHRyYW5zaXRpb25Nb3ZlKHN0ZXApIHtcbiAgICBzbGlkZXJXcmFwLnN0eWxlLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWCgtXCIuY29uY2F0KG9mZnNldCgpLCBcInB4KVwiKTtcblxuICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihzbGlkZXJzSXRlbXMpLFxuICAgICAgICBfc3RlcDtcblxuICAgIHRyeSB7XG4gICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykge1xuICAgICAgICB2YXIgZWxlbWVudCA9IF9zdGVwLnZhbHVlO1xuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBfaXRlcmF0b3IuZShlcnIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBfaXRlcmF0b3IuZigpO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSBzdGVwOyBpIDw9IHN0ZXAgKyBjb25maWcuc2xpZGVzU2Nyb2xsIC0gMTsgaSsrKSB7XG4gICAgICBpZiAoaSA8IHNsaWRlcnNJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgc2xpZGVyc0l0ZW1zW2ldLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNvbmZpZy5kb3RzKSB7XG4gICAgICBpZiAoY29uZmlnLmN1c3RvbURvdHMpIHtcbiAgICAgICAgdmFyIGRvdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5jdXN0b21Eb3RzICsgXCIgLnNsaWRlci1kb3RzX19pdGVtXCIpO1xuICAgICAgICBjeWNsZUFjdGl2ZURvdHMoZG90cywgc3RlcCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgX2RvdHMgPSBzbGlkZXJzLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2xpZGVyLWRvdHNfX2l0ZW1cIik7XG5cbiAgICAgICAgY3ljbGVBY3RpdmVEb3RzKF9kb3RzLCBzdGVwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY29uZmlnLmFycm93cykge1xuICAgICAgY2hlY2tCdXR0b25Mb29wKCk7XG4gICAgfVxuICB9IC8vINCU0L7QsdCw0LLQu9C10L3QuNC1IHN0eWxlIHRyYW5zaXRpb24uINCf0L4g0L7QutC+0L3Rh9Cw0L3QuNGOIHRyYW5zaXRpb24g0L/QtdGA0LXRhdC+0LQg0L3QsCDQutC+0L3QtdGGINC40LvQuCDQvdCw0YfQsNC70L4g0YHQu9Cw0LnQtNC10YDQsFxuXG5cbiAgZnVuY3Rpb24gYWRkVHJhbnNpdGlvbigpIHtcbiAgICBzbGlkZXJXcmFwLnN0eWxlLnRyYW5zaXRpb24gPSBcInRyYW5zZm9ybSBcIi5jb25jYXQoY29uZmlnLnNwZWVkLCBcIm1zXCIpO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgc2xpZGVyV3JhcC5zdHlsZS50cmFuc2l0aW9uID0gJyc7XG4gICAgICBsb29wQmVnaW5FbmQoKTtcbiAgICAgIGFsbG93VHJhbnNpdGlvbiA9IHRydWU7XG4gICAgfSwgY29uZmlnLnNwZWVkKTtcbiAgfSAvLyDQn9C10YDQtdC80LXRidC10L3QuNC1INGB0LvQsNC00L7QslxuXG5cbiAgZnVuY3Rpb24gbW92ZVRvKHN0ZXApIHtcbiAgICBpZiAoYWxsb3dUcmFuc2l0aW9uKSB7XG4gICAgICBpZiAoY29uZmlnLmxvb3AgfHwgIShzdGVwID49IHNsaWRlcnNJdGVtcy5sZW5ndGggfHwgc3RlcCA8IDApKSB7XG4gICAgICAgIGN1cnJlbnRTbGlkZSA9IHN0ZXA7XG4gICAgICB9XG5cbiAgICAgIGFkZFRyYW5zaXRpb24oKTtcbiAgICAgIHRyYW5zaXRpb25Nb3ZlKGN1cnJlbnRTbGlkZSk7XG4gICAgICBjb25maWcuY3VycmVudFNsaWRlW2luZGV4U2xpZGVyXSA9IGN1cnJlbnRTbGlkZTtcbiAgICB9XG5cbiAgICBhbGxvd1RyYW5zaXRpb24gPSBmYWxzZTtcbiAgfSAvLyDQntGC0LrQu9GO0YfQtdC90LjQtSDRgdGC0YDQtdC70LrQuCwg0LXRgdC70Lgg0Y3RgtC+INC60YDQsNC50L3QuNC5INGB0LvQsNC50LRcblxuXG4gIGZ1bmN0aW9uIGNoZWNrQnV0dG9uTG9vcCgpIHtcbiAgICBpZiAoY3VycmVudFNsaWRlIC0gY29uZmlnLnNsaWRlc1Njcm9sbCA8IDApIHtcbiAgICAgIGlmIChjb25maWcuY3VzdG9tUHJldikge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbmZpZy5jdXN0b21QcmV2KS5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2xpZGVycy5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyLWJ1dHRvbl9fcHJldicpLmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChjb25maWcuY3VzdG9tUHJldikge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbmZpZy5jdXN0b21QcmV2KS5jbGFzc0xpc3QucmVtb3ZlKCdkaXNhYmxlZCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2xpZGVycy5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyLWJ1dHRvbl9fcHJldicpLmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGVkJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGN1cnJlbnRTbGlkZSArIGNvbmZpZy5zbGlkZXNTY3JvbGwgPj0gc2xpZGVyc0l0ZW1zLmxlbmd0aCkge1xuICAgICAgaWYgKGNvbmZpZy5jdXN0b21OZXh0KSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29uZmlnLmN1c3RvbU5leHQpLmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbGlkZXJzLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXItYnV0dG9uX19uZXh0JykuY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQnKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGNvbmZpZy5jdXN0b21OZXh0KSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29uZmlnLmN1c3RvbU5leHQpLmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGVkJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbGlkZXJzLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXItYnV0dG9uX19uZXh0JykuY2xhc3NMaXN0LnJlbW92ZSgnZGlzYWJsZWQnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gLy8gXCLQkdC10YHRiNC+0LLQvdC+0LVcIiDQv9C10YDQtdC80LXRidC10L3QuNC1INCyINC60L7QvdC10YYg0LjQu9C4INC90LDRh9Cw0LvQviDQsiDQt9Cw0YbQuNC60LvQtdC90L3QvtC8INGB0LvQsNC50LTQtdGA0LVcblxuXG4gIGZ1bmN0aW9uIGxvb3BCZWdpbkVuZCgpIHtcbiAgICBpZiAoY29uZmlnLmxvb3ApIHtcbiAgICAgIGlmIChjdXJyZW50U2xpZGUgPiBzbGlkZXJzSXRlbXMubGVuZ3RoIC0gY2hlY2tDbG9uZSgpICogMikge1xuICAgICAgICBjdXJyZW50U2xpZGUgPSBjaGVja0Nsb25lKCk7XG4gICAgICAgIHRyYW5zaXRpb25Nb3ZlKGN1cnJlbnRTbGlkZSk7XG4gICAgICB9IGVsc2UgaWYgKGN1cnJlbnRTbGlkZSA8PSAwKSB7XG4gICAgICAgIGN1cnJlbnRTbGlkZSA9IHNsaWRlcnNJdGVtcy5sZW5ndGggLSBjaGVja0Nsb25lKCkgKiAyO1xuICAgICAgICB0cmFuc2l0aW9uTW92ZShjdXJyZW50U2xpZGUpO1xuICAgICAgfVxuICAgIH1cbiAgfSAvLyDQn9GA0L7Qu9C40YHRgtGL0LLQsNC90LjQtSDRgdCy0LDQudC/0L7QvFxuXG5cbiAgZnVuY3Rpb24gY3JlYXRlU3dpcGUoKSB7XG4gICAgdmFyIHBvc1gxID0gMDtcbiAgICB2YXIgcG9zWDIgPSAwO1xuICAgIHZhciBwb3NJbml0aWFsO1xuICAgIHZhciBwb3NGaW5hbDtcbiAgICB2YXIgdGhyZXNob2xkID0gc2xpZGVycy5vZmZzZXRXaWR0aCAqIDAuMzsgLy8g0KDQsNGB0YLQvtGP0L3QuNC1INC00L4g0YHRgNCw0LHQsNGC0YvQstCw0L3QuNGPINGB0LLQsNC50L/QsFxuXG4gICAgdmFyIHN3aXBlU3RhcnQgPSBmdW5jdGlvbiBzd2lwZVN0YXJ0KGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHBvc0luaXRpYWwgPSBnZXRUcmFuc2Zvcm1YKHNsaWRlcldyYXApO1xuXG4gICAgICBpZiAoZS50eXBlID09PSAndG91Y2hzdGFydCcpIHtcbiAgICAgICAgcG9zWDEgPSBlLnRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBvc1gxID0gZS5jbGllbnRYO1xuICAgICAgICBkb2N1bWVudC5vbm1vdXNldXAgPSBzd2lwZUVuZDtcbiAgICAgICAgZG9jdW1lbnQub25tb3VzZW1vdmUgPSBzd2lwZUFjdGlvbjtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIHN3aXBlRW5kID0gZnVuY3Rpb24gc3dpcGVFbmQoKSB7XG4gICAgICBwb3NGaW5hbCA9IGdldFRyYW5zZm9ybVgoc2xpZGVyV3JhcCk7XG5cbiAgICAgIGlmIChwb3NGaW5hbCAtIHBvc0luaXRpYWwgPCAtdGhyZXNob2xkKSB7XG4gICAgICAgIG1vdmVUbyhjdXJyZW50U2xpZGUgKyBjb25maWcuc2xpZGVzU2Nyb2xsKTtcbiAgICAgIH0gZWxzZSBpZiAocG9zRmluYWwgLSBwb3NJbml0aWFsID4gdGhyZXNob2xkKSB7XG4gICAgICAgIG1vdmVUbyhjdXJyZW50U2xpZGUgLSBjb25maWcuc2xpZGVzU2Nyb2xsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFkZFRyYW5zaXRpb24oKTsgLy8g0J/RgNC4INC/0LXRgNC10LrQu9GO0YfQtdC90LjQuCDRgdC70LDQudC20L7QsiDQtNC+0LHQsNCy0LvRj9C10YIgdHJhbnNpdGlvblxuXG4gICAgICAgIHNsaWRlcldyYXAuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKFwiLmNvbmNhdChwb3NJbml0aWFsLCBcInB4KVwiKTtcbiAgICAgIH1cblxuICAgICAgZG9jdW1lbnQub25tb3VzZXVwID0gbnVsbDtcbiAgICAgIGRvY3VtZW50Lm9ubW91c2Vtb3ZlID0gbnVsbDtcbiAgICB9O1xuXG4gICAgdmFyIHN3aXBlQWN0aW9uID0gZnVuY3Rpb24gc3dpcGVBY3Rpb24oZSkge1xuICAgICAgaWYgKGUudHlwZSA9PT0gJ3RvdWNobW92ZScpIHtcbiAgICAgICAgcG9zWDIgPSBwb3NYMSAtIGUudG91Y2hlc1swXS5jbGllbnRYO1xuICAgICAgICBwb3NYMSA9IGUudG91Y2hlc1swXS5jbGllbnRYO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcG9zWDIgPSBwb3NYMSAtIGUuY2xpZW50WDtcbiAgICAgICAgcG9zWDEgPSBlLmNsaWVudFg7XG4gICAgICB9XG5cbiAgICAgIHNsaWRlcldyYXAuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKFwiLmNvbmNhdChnZXRUcmFuc2Zvcm1YKHNsaWRlcldyYXApIC0gcG9zWDIsIFwicHgpXCIpO1xuICAgIH07IC8vINCf0L7Qu9GD0YfQsNC10Lwg0YfQuNGB0LvQviDQuNC3INGB0YLQuNC70Y8gdHJhbnNmb3JtWFxuXG5cbiAgICB2YXIgZ2V0VHJhbnNmb3JtWCA9IGZ1bmN0aW9uIGdldFRyYW5zZm9ybVgoZWwpIHtcbiAgICAgIHJldHVybiArZWwuc3R5bGUudHJhbnNmb3JtLnJlcGxhY2UoL1teLVxcZC5dL2csICcnKTtcbiAgICB9O1xuXG4gICAgc2xpZGVyV3JhcC5vbm1vdXNlZG93biA9IHN3aXBlU3RhcnQ7XG4gICAgc2xpZGVyV3JhcC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jywgc3dpcGVTdGFydCk7XG4gICAgc2xpZGVyV3JhcC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHN3aXBlRW5kKTtcbiAgICBzbGlkZXJXcmFwLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHN3aXBlQWN0aW9uKTtcbiAgfSAvLyA9PT0g0J/QtdGA0LXQvNC10YnQtdC90LjQtSBFTkQgPT09XG4gIC8vID09PSDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDRgdC70LDQudC00LXRgNCwID09PVxuXG5cbiAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICBpZiAoY29uZmlnLmN1cnJlbnRTbGlkZVtpbmRleFNsaWRlcl0pIHtcbiAgICAgIGN1cnJlbnRTbGlkZSA9IGNvbmZpZy5jdXJyZW50U2xpZGVbaW5kZXhTbGlkZXJdO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoY29uZmlnLmxvb3ApIHtcbiAgICAgICAgY3VycmVudFNsaWRlID0gY29uZmlnLnNsaWRlc1Njcm9sbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnJlbnRTbGlkZSA9IDA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdHJhbnNpdGlvbk1vdmUoY3VycmVudFNsaWRlKTtcblxuICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoc2xpZGVyc0l0ZW1zKSxcbiAgICAgICAgX3N0ZXAyO1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gX3N0ZXAyLnZhbHVlO1xuICAgICAgICBlbGVtZW50LnN0eWxlLndpZHRoID0gc2xpZGVySXRlbVdpZHRoKCkgKyAncHgnO1xuICAgICAgfSAvLyDQndCw0LfQvdCw0YfQtdC90LjQtSDRiNC40YDQuNC90Ysg0L7QtNC90L7Qs9C+INGB0LvQsNC50LTQsFxuXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBfaXRlcmF0b3IyLmUoZXJyKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgX2l0ZXJhdG9yMi5mKCk7XG4gICAgfVxuXG4gICAgc2xpZGVyV3JhcC5zdHlsZS53aWR0aCA9IHNsaWRlcnNJdGVtcy5sZW5ndGggKiBzbGlkZXJJdGVtV2lkdGgoKSArICdweCc7IC8vINCd0LDQt9C90LDRh9C10L3QuNC1INGI0LjRgNC40L3RiyBcItC60LDRgNGD0YHQtdC70LhcIiDRgdC70LDQudC00L7QslxuICB9IC8vID09PSDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDRgdC70LDQudC00LXRgNCwIEVORCA9PT1cbiAgLy8gPT09INCS0YHQv9C+0LzQvtCz0LDRgtC10LvRjNC90YvQtSDRhNGD0L3QutGG0LjQuCA9PT1cbiAgLy8g0KjQuNGA0LjQvdCwINC+0LTQvdC+0LPQviDRgdC70LDQudC00LBcblxuXG4gIGZ1bmN0aW9uIHNsaWRlckl0ZW1XaWR0aCgpIHtcbiAgICByZXR1cm4gc2xpZGVycy5vZmZzZXRXaWR0aCAvIGNvbmZpZy5zbGlkZXNTaG93O1xuICB9IC8vINCg0LDRgdGB0YLQvtGP0L3QuNC1INC/0LXRgNC10LzQtdGJ0LXQvdC40Y8g0YHQu9Cw0LnQtNC+0LIg0LTQu9GPINGC0LXQutGD0YnQtdCz0L4g0YjQsNCz0LBcblxuXG4gIGZ1bmN0aW9uIG9mZnNldCgpIHtcbiAgICB2YXIgc3RlcCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogY3VycmVudFNsaWRlO1xuICAgIHJldHVybiBzbGlkZXJJdGVtV2lkdGgoKSAqIHN0ZXA7XG4gIH0gLy8g0KbQuNC60Lsg0LTQu9GPINGB0L7Qt9C00LDQvdC40Y8g0YLQvtGH0LXQulxuXG5cbiAgZnVuY3Rpb24gY3ljbGVDcmVhdGVEb3RzKGRvdCkge1xuICAgIGRvdC5jbGFzc0xpc3QuYWRkKFwic2xpZGVyLWRvdHNcIik7XG5cbiAgICBpZiAoY29uZmlnLmxvb3ApIHtcbiAgICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKGkpIHtcbiAgICAgICAgdmFyIGRvdHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgZG90cy5jbGFzc0xpc3QuYWRkKCdzbGlkZXItZG90c19faXRlbScpO1xuICAgICAgICBkb3QuYXBwZW5kQ2hpbGQoZG90cyk7XG4gICAgICAgIGRvdHMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgbW92ZVRvKGkgKyAxKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBmb3IgKHZhciBpID0gY2hlY2tDbG9uZSgpIC0gMTsgaSA8IHNsaWRlcnNJdGVtcy5sZW5ndGggLSBjaGVja0Nsb25lKCkgKiAyOyBpICs9IGNoZWNrQ2xvbmUoKSkge1xuICAgICAgICBfbG9vcChpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIF9sb29wMiA9IGZ1bmN0aW9uIF9sb29wMihfaTUpIHtcbiAgICAgICAgdmFyIGRvdHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgZG90cy5jbGFzc0xpc3QuYWRkKCdzbGlkZXItZG90c19faXRlbScpO1xuICAgICAgICBkb3QuYXBwZW5kQ2hpbGQoZG90cyk7XG4gICAgICAgIGRvdHMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgbW92ZVRvKF9pNSk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgZm9yICh2YXIgX2k1ID0gMDsgX2k1IDwgc2xpZGVyc0l0ZW1zLmxlbmd0aDsgX2k1ICs9IGNvbmZpZy5zbGlkZXNTY3JvbGwpIHtcbiAgICAgICAgX2xvb3AyKF9pNSk7XG4gICAgICB9XG4gICAgfVxuICB9IC8vINCm0LjQutC7INC40LfQvNC10L3QtdC90LjRjyDRgtC+0YfQtdC6XG5cblxuICBmdW5jdGlvbiBjeWNsZUFjdGl2ZURvdHMoZG90cywgc3RlcCkge1xuICAgIHZhciBsb29wID0gY29uZmlnLmxvb3AgPyAxIDogMDtcblxuICAgIHZhciBfaXRlcmF0b3IzID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoZG90cyksXG4gICAgICAgIF9zdGVwMztcblxuICAgIHRyeSB7XG4gICAgICBmb3IgKF9pdGVyYXRvcjMucygpOyAhKF9zdGVwMyA9IF9pdGVyYXRvcjMubigpKS5kb25lOykge1xuICAgICAgICB2YXIgZWxlbWVudCA9IF9zdGVwMy52YWx1ZTtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgX2l0ZXJhdG9yMy5lKGVycik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIF9pdGVyYXRvcjMuZigpO1xuICAgIH1cblxuICAgIGlmIChkb3RzW3N0ZXAgLyBjaGVja0Nsb25lKCkgLSBsb29wXSkge1xuICAgICAgZG90c1tzdGVwIC8gY2hlY2tDbG9uZSgpIC0gbG9vcF0uY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcbiAgICB9XG4gIH0gLy8g0JLRi9Cy0L7QtNC40YIg0YHQutC+0LvRjNC60L4g0YHQtNC10LvQsNC90L4g0LrQu9C+0L3QvtCyINC90LAg0L7QtNC90L7QuSDRgdGC0L7RgNC+0L3QtVxuXG5cbiAgZnVuY3Rpb24gY2hlY2tDbG9uZSgpIHtcbiAgICByZXR1cm4gY29uZmlnLnNsaWRlc1Njcm9sbCA+IGNvbmZpZy5zbGlkZXNTaG93ID8gY29uZmlnLnNsaWRlc1Njcm9sbCA6IGNvbmZpZy5zbGlkZXNTaG93O1xuICB9IC8vID09PSDQktGB0L/QvtC80L7Qs9Cw0YLQtdC70YzQvdGL0LUg0YTRg9C90LrRhtC40LggRU5EID09PVxuXG59IC8vINCf0YDQvtCy0LXRgNC60LAg0LfQvdCw0YfQtdC90LjQuSDQsiByZXNwb25zaXZlXG5cblxuZnVuY3Rpb24gY2hlY2tSZXNwb25zaXZlKHNsaWRlcnMsIGNvbmZpZywgaW5kZXhTbGlkZXIpIHtcbiAgdmFyIHdpbmRvd3NXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoOyAvLyDQqNC40YDQuNC90LAg0Y3QutGA0LDQvdCwXG5cbiAgdmFyIGZsYWdSZXNwb25zaXZlID0gdHJ1ZTsgLy8g0J/RgNC+0LLQtdGA0LrQsCDQvdCwINC90LDQu9C40YfQuNC1INGN0LvQtdC80LXQvdGC0L7QsiDQsiDRgdC70LDQudC00LXRgNC1XG5cbiAgaWYgKCFzbGlkZXJzLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChjb25maWcucmVzcG9uc2l2ZSkge1xuICAgIGNvbmZpZy5yZXNwb25zaXZlLnNvcnQoZnVuY3Rpb24gKHByZXYsIG5leHQpIHtcbiAgICAgIHJldHVybiBuZXh0LmJyZWFrcG9pbnQgLSBwcmV2LmJyZWFrcG9pbnQ7XG4gICAgfSk7IC8vIFJlc3BvbnNpdmUg0LfQvdCw0YfQtdC90LjRjyBjb25maWdcblxuICAgIHZhciBfaXRlcmF0b3I0ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoY29uZmlnLnJlc3BvbnNpdmUpLFxuICAgICAgICBfc3RlcDQ7XG5cbiAgICB0cnkge1xuICAgICAgZm9yIChfaXRlcmF0b3I0LnMoKTsgIShfc3RlcDQgPSBfaXRlcmF0b3I0Lm4oKSkuZG9uZTspIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBfc3RlcDQudmFsdWU7XG5cbiAgICAgICAgaWYgKHdpbmRvd3NXaWR0aCA8PSBlbGVtZW50LmJyZWFrcG9pbnQpIHtcbiAgICAgICAgICBmbGFnUmVzcG9uc2l2ZSA9IGZhbHNlO1xuICAgICAgICAgIGNvbmZpZyA9IGV4dGVuZChlbGVtZW50LnNldHRpbmdzLCBjb25maWcpO1xuICAgICAgICAgIHJlQ3JlYXRlU2xpZGVyKHNsaWRlcnMsIGNvbmZpZywgaW5kZXhTbGlkZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBfaXRlcmF0b3I0LmUoZXJyKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgX2l0ZXJhdG9yNC5mKCk7XG4gICAgfVxuICB9IC8vINCh0YLQsNC90LTQsNGA0YLQvdGL0LUg0LfQvdCw0YfQtdC90LjRjyBjb25maWdcblxuXG4gIGlmIChmbGFnUmVzcG9uc2l2ZSkge1xuICAgIHJlQ3JlYXRlU2xpZGVyKHNsaWRlcnMsIGNvbmZpZywgaW5kZXhTbGlkZXIpO1xuICB9XG59IC8vINCf0LXRgNC10YHQvtC30LTQsNGC0Ywg0YHQu9Cw0LnQtNC10YBcblxuXG5mdW5jdGlvbiByZUNyZWF0ZVNsaWRlcihzbGlkZXJzLCBvcHRpb25zLCBpbmRleFNsaWRlcikge1xuICAvLyDQldGB0LvQuCDRgdC70LDQudC00LXRgCDRgdC+0LfQtNCw0L0sINGC0L4g0YLQvtCz0LTQsCDQvtC9INGD0LTQsNC70Y/QtdGC0YHRj1xuICBpZiAoc2xpZGVycy5jbGFzc0xpc3QuY29udGFpbnMoJ2pyc2xpZGVyLWluaXQnKSkge1xuICAgIGRlc3Ryb3lTbGlkZXIoc2xpZGVycyk7XG4gIH1cblxuICBjcmVhdGVTbGlkZXIoc2xpZGVycywgb3B0aW9ucywgaW5kZXhTbGlkZXIpO1xufSAvLyDQo9C00LDQu9GP0LXRgiDRjdC70LXQvNC10L3RgtGLINGB0LLRj9C30LDQvdC90YvQtSDRgdC+INGB0LvQsNC50LTQtdGA0L7QvFxuXG5cbmZ1bmN0aW9uIGRlc3Ryb3lTbGlkZXIoc2xpZGVycykge1xuICB2YXIgY2xvbmVJdGVtcyA9IFtdO1xuXG4gIHZhciBfaXRlcmF0b3I1ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoc2xpZGVycy5xdWVyeVNlbGVjdG9yQWxsKFwiLmNsb25lXCIpKSxcbiAgICAgIF9zdGVwNTtcblxuICB0cnkge1xuICAgIGZvciAoX2l0ZXJhdG9yNS5zKCk7ICEoX3N0ZXA1ID0gX2l0ZXJhdG9yNS5uKCkpLmRvbmU7KSB7XG4gICAgICB2YXIgX2VsZW1lbnQyID0gX3N0ZXA1LnZhbHVlO1xuXG4gICAgICBfZWxlbWVudDIucmVtb3ZlKCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBfaXRlcmF0b3I1LmUoZXJyKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBfaXRlcmF0b3I1LmYoKTtcbiAgfVxuXG4gIHZhciBzbGlkZXJzSXRlbXMgPSBzbGlkZXJzLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zbGlkZXItd3JhcCA+IConKTtcblxuICB2YXIgX2l0ZXJhdG9yNiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHNsaWRlcnNJdGVtcyksXG4gICAgICBfc3RlcDY7XG5cbiAgdHJ5IHtcbiAgICBmb3IgKF9pdGVyYXRvcjYucygpOyAhKF9zdGVwNiA9IF9pdGVyYXRvcjYubigpKS5kb25lOykge1xuICAgICAgdmFyIF9lbGVtZW50MyA9IF9zdGVwNi52YWx1ZTtcbiAgICAgIGNsb25lSXRlbXMucHVzaChfZWxlbWVudDMuY2xvbmVOb2RlKHRydWUpKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIF9pdGVyYXRvcjYuZShlcnIpO1xuICB9IGZpbmFsbHkge1xuICAgIF9pdGVyYXRvcjYuZigpO1xuICB9XG5cbiAgc2xpZGVycy5jbGFzc0xpc3QucmVtb3ZlKCdqcnNsaWRlci1pbml0Jyk7XG4gIHNsaWRlcnMucXVlcnlTZWxlY3RvcihcIi5zbGlkZXItd3JhcFwiKS5yZW1vdmUoKTtcbiAgc2xpZGVycy5xdWVyeVNlbGVjdG9yKFwiLnNsaWRlci1uYXZcIikucmVtb3ZlKCk7XG5cbiAgZm9yICh2YXIgX2k2ID0gMCwgX2Nsb25lSXRlbXMgPSBjbG9uZUl0ZW1zOyBfaTYgPCBfY2xvbmVJdGVtcy5sZW5ndGg7IF9pNisrKSB7XG4gICAgdmFyIGVsZW1lbnQgPSBfY2xvbmVJdGVtc1tfaTZdO1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgZWxlbWVudC5zdHlsZSA9ICcnO1xuICAgIHNsaWRlcnMuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZXh0ZW5kKG9wdGlvbnMsIGRlZmF1bHRzKSB7XG4gIGZvciAodmFyIGtleSBpbiBkZWZhdWx0cykge1xuICAgIGlmIChvcHRpb25zW2tleV0gPT0gbnVsbCkge1xuICAgICAgdmFyIHZhbHVlID0gZGVmYXVsdHNba2V5XTtcbiAgICAgIG9wdGlvbnNba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvcHRpb25zO1xufSIsImltcG9ydCAnLi9jc3MvanJzbGlkZXIuY3NzJztcbmltcG9ydCBKUlNsaWRlciBmcm9tICcuL2pzL2pyc2xpZGVyLmpzJztcbmV4cG9ydCBkZWZhdWx0IEpSU2xpZGVyOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///369\n")}},__webpack_require__={d:(n,t)=>{for(var g in t)__webpack_require__.o(t,g)&&!__webpack_require__.o(n,g)&&Object.defineProperty(n,g,{enumerable:!0,get:t[g]})},o:(n,t)=>Object.prototype.hasOwnProperty.call(n,t)},__webpack_exports__={};__webpack_modules__[369](0,__webpack_exports__,__webpack_require__),JRSlider=__webpack_exports__.default})();